meta {
  name: create_gateway
  type: http
  seq: 1
}

post {
  url: {{scheme}}://{{host}}/api/v1/open/gateways/
}

body {
    {
      "name": "test2222",
      "description": "Test Gateway",
      "mode": 1,
      "apisix_type": "bk-apisix",
      "apisix_version": "3.11.0",
      "etcd_endpoints": [
        "{{etcd_endpoints}}"
      ],
      "maintainers": [
        "admin"
      ],
      "etcd_prefix": "/apisix2",
      "etcd_schema_type": "http",
      "etcd_username": "test",
      "etcd_password": "test"
    }
}

headers {
  Content-Type: application/json
  X-BK-API-TOKEN: {{x_bk_api_token}}
}


assert {
  res.status: eq 400
}